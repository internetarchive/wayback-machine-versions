/*!
 * =============================================================
 * wayback-machine-versions v1.0.7 - Wayback Machine Versions
 * https://github.com/internetarchive/wayback-machine-versions/blob/master/README.md
 *
 * (c) 2017 - Eagle19243
 * =============================================================
 */

!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.Wayback_links=t(e.jQuery)}(this,function(e){function t(e){var t=/^https?:/,r=/:/;return Boolean(e)&&(t.test(e)||!r.test(e))}function r(){return"WL_"+Math.random().toString(36).substr(2,9)}function n(e,t,r){var n=document.createElement("li"),a=document.createElement("div"),i=document.createElement("a");i.setAttribute("class","waybackLinks WLItem"),i.href=r,i.innerHTML=t,a.appendChild(i),n.appendChild(a),e.appendChild(n)}function a(e){return e<10&&(e="0"+e),e}function i(e){var t=new Date(e);if(isNaN(t)&&(t=new Date(e.replace(/ /g,"T")),isNaN(t)))return"Invalid date";var r="";return r+=t.getUTCFullYear(),r+=a(t.getUTCMonth()+1),r+=a(t.getUTCDate()),r+=a(t.getUTCHours()),r+=a(t.getUTCMinutes()),r+=a(t.getUTCSeconds())}function u(e){if(14!=e.length)return null;var t="";return t+=e.substr(0,4)+"-",t+=e.substr(4,2)+"-",t+=e.substr(6,2)+" ",t+=e.substr(8,2)+":",t+=e.substr(10,2)+":",t+=e.substr(12,2)}function o(e){var t=new Date(e);if(isNaN(t)&&(t=new Date(e.replace(/ /g,"T")),isNaN(t)))return"Invalid date";var r=["January","February","March","April","May","June","July","August","September","October","November","December"],n="";return n+=r[t.getUTCMonth()]+" ",n+=s(t.getUTCDate())+", ",n+=t.getUTCFullYear()+" @ ",n+=a(t.getUTCHours())+":",n+=a(t.getUTCMinutes())+":",n+=a(t.getUTCSeconds())}function s(e){if(e>3&&e<21)return e+"th";switch(e%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}function c(e){var t=/(https?:\/\/web.archive.org\/web\/)(\d*)(\/)/g;return match=t.exec(e),null!==match&&4==match.length?u(match[2]):null}function l(){p&&(p.setAttribute("aria-hidden","true"),p=null)}function d(e,t){try{return e.getAttribute(t).trim()}catch(e){return""}}function h(e){var t=e.getElementsByClassName("waybackLinks WLItem").length,r=e.getElementsByClassName("WLTitle")[0];r.innerHTML=t>1?"Versions from the Wayback Machine":"Version from the Wayback Machine"}var f={datePublished:"",dateModified:""};const m="https://web.archive.org/web/";var p;return"undefined"==typeof WLuriPatternsToExclude&&(WLuriPatternsToExclude=[]),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=this.length;t--;)if(this[t]===e)return t;return-1}),document.addEventListener("DOMContentLoaded",function(){for(var e=document.getElementsByTagName("meta"),a={},u=0;u<e.length;u++){var s=d(e[u],"item-prop");if(s in f){var b=d(e[u],"content");a[s]={linkstr:"",printstr:""},a[s].linkstr=i(b),a[s].printstr=o(b)}}for(var g=document.getElementsByTagName("a"),u=0;u<g.length;u++){var v=d(g[u],"href");if(0==!v.search("http")){var y=window.location,k=y.protocol+"//"+y.host;0==!v.search("/|../|./")&&(k+="/"),v=k+v}var C=d(g[u],"data-originalurl"),T=Boolean(C);T||(C=v);var A=d(g[u],"data-versionurl"),L=Boolean(A),E=d(g[u],"data-versiondate"),w=Boolean(E);if(g[u].href.length>0&&(" "+g[u].className+" ").indexOf(" waybackLinks ")<0&&(Object.keys(a).length>0||T||L||w)&&t(v)){var W=r(),M=document.createElement("span");M.setAttribute("role","navigation"),M.setAttribute("aria-label","WLElement");var N=document.createElement("ul"),B=document.createElement("li");B.setAttribute("aria-label","WLOuter");var U=document.createElement("a");U.href="",U.setAttribute("aria-haspopup","true"),U.setAttribute("class","waybackLinks dropDownButton WLArrow"),U.setAttribute("aria-controls",W);var D=document.createElement("div");D.setAttribute("class","waybackLinks dropDownButton WLIcon");var x=document.createElement("ul");x.setAttribute("class","WLMenu"),x.id=W,x.setAttribute("aria-hidden","true");var O=document.createElement("li");O.setAttribute("class","WLTitle"),O.innerHTML="Versions from the Wayback Machine",x.appendChild(O);for(s in a){var I=m+a[s].linkstr+"/"+C;n(x,f[s]+a[s].printstr,I)}if(w){var j=i(E),I=m+j+"/"+C;n(x,o(E),I)}if(L){A.split(",").forEach(function(e){e=e.trim(),c(e)&&n(x,o(c(e)),e)})}T&&n(x,"Get at current date",C),h(x),B.appendChild(U),B.appendChild(x),N.appendChild(B),M.appendChild(N),U.parentNode.insertBefore(D,U),U.onclick=function(e){var t=document.getElementById(this.getAttribute("aria-controls")),r="true"==t.getAttribute("aria-hidden");return l(),r?(t.setAttribute("aria-hidden","false"),p=t):(t.setAttribute("aria-hidden","true"),p=null),e.stopPropagation(),!1},g[u].parentNode.insertBefore(M,g[u].nextSibling)}}document.onclick=l},!1)});