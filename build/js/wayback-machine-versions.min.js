/*!
 * =============================================================
 * wayback-machine-versions v1.0.1 - Wayback Machine Versions
 * https://github.com/internetarchive/wayback-machine-versions/blob/master/README.md
 *
 * (c) 2017 - Eagle19243
 * =============================================================
 */

!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.Wayback_links=e(t.jQuery)}(this,function(t){function e(t){var e=/^https?:/,r=/:/;return Boolean(t)&&(e.test(t)||!r.test(t))}function r(){return"WL_"+Math.random().toString(36).substr(2,9)}function n(t,e,r){var n=document.createElement("li"),a=document.createElement("div"),i=document.createElement("a");i.setAttribute("class","waybackLinks WLItem"),i.href=r,i.innerHTML=e,a.appendChild(i),n.appendChild(a),t.appendChild(n)}function a(t){return t<10&&(t="0"+t),t}function i(t){var e=new Date(t);if(isNaN(e)&&(e=new Date(t.replace(/ /g,"T")),isNaN(e)))return"Invalid date";var r="";return r+=e.getUTCFullYear(),r+=a(e.getUTCMonth()+1),r+=a(e.getUTCDate()),r+=a(e.getUTCHours()),r+=a(e.getUTCMinutes()),r+=a(e.getUTCSeconds())}function u(t){if(14!=t.length)return null;var e="";return e+=t.substr(0,4)+"-",e+=t.substr(4,2)+"-",e+=t.substr(6,2)+" ",e+=t.substr(8,2)+":",e+=t.substr(10,2)+":",e+=t.substr(12,2)}function o(t){var e=new Date(t);if(isNaN(e)&&(e=new Date(t.replace(/ /g,"T")),isNaN(e)))return"Invalid date";var r=["January","February","March","April","May","June","July","August","September","October","November","December"],n="";return n+=r[e.getUTCMonth()]+" ",n+=s(e.getUTCDate())+", ",n+=e.getUTCFullYear()+" @ ",n+=a(e.getUTCHours())+":",n+=a(e.getUTCMinutes())+":",n+=a(e.getUTCSeconds())}function s(t){if(t>3&&t<21)return t+"th";switch(t%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd";default:return t+"th"}}function c(t){var e=/(https?:\/\/web.archive.org\/web\/)(\d*)(\/)/g;return match=e.exec(t),null!==match&&4==match.length?u(match[2]):null}function l(){m&&(m.setAttribute("aria-hidden","true"),m=null)}function d(t,e){try{return t.getAttribute(e).trim()}catch(t){return""}}var h=["https?://web.archive.org/*"],f={datePublished:"",dateModified:""};const p="https://web.archive.org/web/";var m;return"undefined"==typeof WLuriPatternsToExclude&&(WLuriPatternsToExclude=["https?://archive.org*"]),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=this.length;e--;)if(this[e]===t)return e;return-1}),document.addEventListener("DOMContentLoaded",function(){for(var t=document.getElementsByTagName("meta"),a={},u=0;u<t.length;u++){var s=d(t[u],"item-prop");if(s in f){var b=d(t[u],"content");a[s]={linkstr:"",printstr:""},a[s].linkstr=i(b),a[s].printstr=o(b)}}for(var g=document.getElementsByTagName("a"),u=0;u<g.length;u++){var v=d(g[u],"href");if(0==!v.search("http")){var y=window.location,A=y.protocol+"//"+y.host;0==!v.search("/|../|./")&&(A+="/"),v=A+v}var T=d(g[u],"data-originalurl"),C=Boolean(T);C||(T=v);var w=d(g[u],"data-versionurl"),E=Boolean(w),k=d(g[u],"data-versiondate"),L=Boolean(k),N=new RegExp("(?:"+WLuriPatternsToExclude.concat(h).join(")|(?:")+")");if(g[u].href.length>0&&(" "+g[u].className+" ").indexOf(" waybackLinks ")<0&&(Object.keys(a).length>0||C||E||L)&&!N.test(v)&&e(v)){var W=r(),M=document.createElement("span");M.setAttribute("role","navigation"),M.setAttribute("aria-label","WLElement");var U=document.createElement("ul"),x=document.createElement("li");x.setAttribute("aria-label","WLOuter");var B=document.createElement("a");B.href="",B.setAttribute("aria-haspopup","true"),B.setAttribute("class","waybackLinks dropDownButton WLArrow"),B.setAttribute("aria-controls",W);var D=document.createElement("div");D.setAttribute("class","waybackLinks dropDownButton WLIcon");var O=document.createElement("ul");O.setAttribute("class","WLMenu"),O.id=W,O.setAttribute("aria-hidden","true");var j=document.createElement("li");j.setAttribute("class","WLTitle"),j.innerHTML="Get from the Wayback Machine",O.appendChild(j);for(s in a){var I=p+a[s].linkstr+"/"+T;n(O,f[s]+a[s].printstr,I)}if(L){var P=i(k),I=p+P+"/"+T;n(O,o(k),I)}if(E){w.split(",").forEach(function(t){t=t.trim(),c(t)&&n(O,o(c(t)),t)})}C&&n(O,"Get at current date",T),x.appendChild(B),x.appendChild(O),U.appendChild(x),M.appendChild(U),B.parentNode.insertBefore(D,B),B.onclick=function(t){var e=document.getElementById(this.getAttribute("aria-controls")),r="true"==e.getAttribute("aria-hidden");return l(),r?(e.setAttribute("aria-hidden","false"),m=e):(e.setAttribute("aria-hidden","true"),m=null),t.stopPropagation(),!1},g[u].parentNode.insertBefore(M,g[u].nextSibling)}}document.onclick=l},!1)});