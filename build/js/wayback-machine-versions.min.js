/*!
 * =============================================================
 * wayback-machine-versions v1.0.6 - Wayback Machine Versions
 * https://github.com/internetarchive/wayback-machine-versions/blob/master/README.md
 *
 * (c) 2017 - Eagle19243
 * =============================================================
 */

!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.Wayback_links=t(e.jQuery)}(this,function(e){function t(e){var t=/^https?:/,r=/:/;return Boolean(e)&&(t.test(e)||!r.test(e))}function r(){return"WL_"+Math.random().toString(36).substr(2,9)}function n(e,t,r){var n=document.createElement("li"),a=document.createElement("div"),i=document.createElement("a");i.setAttribute("class","waybackLinks WLItem"),i.href=r,i.innerHTML=t,a.appendChild(i),n.appendChild(a),e.appendChild(n)}function a(e){return e<10&&(e="0"+e),e}function i(e){var t=new Date(e);if(isNaN(t)&&(t=new Date(e.replace(/ /g,"T")),isNaN(t)))return"Invalid date";var r="";return r+=t.getUTCFullYear(),r+=a(t.getUTCMonth()+1),r+=a(t.getUTCDate()),r+=a(t.getUTCHours()),r+=a(t.getUTCMinutes()),r+=a(t.getUTCSeconds())}function u(e){if(14!=e.length)return null;var t="";return t+=e.substr(0,4)+"-",t+=e.substr(4,2)+"-",t+=e.substr(6,2)+" ",t+=e.substr(8,2)+":",t+=e.substr(10,2)+":",t+=e.substr(12,2)}function o(e){var t=new Date(e);if(isNaN(t)&&(t=new Date(e.replace(/ /g,"T")),isNaN(t)))return"Invalid date";var r=["January","February","March","April","May","June","July","August","September","October","November","December"],n="";return n+=r[t.getUTCMonth()]+" ",n+=s(t.getUTCDate())+", ",n+=t.getUTCFullYear()+" @ ",n+=a(t.getUTCHours())+":",n+=a(t.getUTCMinutes())+":",n+=a(t.getUTCSeconds())}function s(e){if(e>3&&e<21)return e+"th";switch(e%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}function c(e){var t=/(https?:\/\/web.archive.org\/web\/)(\d*)(\/)/g;return match=t.exec(e),null!==match&&4==match.length?u(match[2]):null}function l(){b&&(b.setAttribute("aria-hidden","true"),b=null)}function d(e,t){try{return e.getAttribute(t).trim()}catch(e){return""}}function h(e){var t=e.getElementsByClassName("waybackLinks WLItem").length,r=e.getElementsByClassName("WLTitle")[0];r.innerHTML=t>1?"Versions from the Wayback Machine":"Version from the Wayback Machine"}var f=[],m={datePublished:"",dateModified:""};const p="https://web.archive.org/web/";var b;return"undefined"==typeof WLuriPatternsToExclude&&(WLuriPatternsToExclude=["https?://archive.org*"]),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=this.length;t--;)if(this[t]===e)return t;return-1}),document.addEventListener("DOMContentLoaded",function(){for(var e=document.getElementsByTagName("meta"),a={},u=0;u<e.length;u++){var s=d(e[u],"item-prop");if(s in m){var g=d(e[u],"content");a[s]={linkstr:"",printstr:""},a[s].linkstr=i(g),a[s].printstr=o(g)}}for(var v=document.getElementsByTagName("a"),u=0;u<v.length;u++){var y=d(v[u],"href");if(0==!y.search("http")){var T=window.location,k=T.protocol+"//"+T.host;0==!y.search("/|../|./")&&(k+="/"),y=k+y}var C=d(v[u],"data-originalurl"),L=Boolean(C);L||(C=y);var A=d(v[u],"data-versionurl"),E=Boolean(A),w=d(v[u],"data-versiondate"),W=Boolean(w),M=new RegExp("(?:"+WLuriPatternsToExclude.concat(f).join(")|(?:")+")");if(v[u].href.length>0&&(" "+v[u].className+" ").indexOf(" waybackLinks ")<0&&(Object.keys(a).length>0||L||E||W)&&!M.test(y)&&t(y)){var N=r(),B=document.createElement("span");B.setAttribute("role","navigation"),B.setAttribute("aria-label","WLElement");var U=document.createElement("ul"),x=document.createElement("li");x.setAttribute("aria-label","WLOuter");var D=document.createElement("a");D.href="",D.setAttribute("aria-haspopup","true"),D.setAttribute("class","waybackLinks dropDownButton WLArrow"),D.setAttribute("aria-controls",N);var O=document.createElement("div");O.setAttribute("class","waybackLinks dropDownButton WLIcon");var j=document.createElement("ul");j.setAttribute("class","WLMenu"),j.id=N,j.setAttribute("aria-hidden","true");var I=document.createElement("li");I.setAttribute("class","WLTitle"),I.innerHTML="Versions from the Wayback Machine",j.appendChild(I);for(s in a){var H=p+a[s].linkstr+"/"+C;n(j,m[s]+a[s].printstr,H)}if(W){var P=i(w),H=p+P+"/"+C;n(j,o(w),H)}if(E){A.split(",").forEach(function(e){e=e.trim(),c(e)&&n(j,o(c(e)),e)})}L&&n(j,"Get at current date",C),h(j),x.appendChild(D),x.appendChild(j),U.appendChild(x),B.appendChild(U),D.parentNode.insertBefore(O,D),D.onclick=function(e){var t=document.getElementById(this.getAttribute("aria-controls")),r="true"==t.getAttribute("aria-hidden");return l(),r?(t.setAttribute("aria-hidden","false"),b=t):(t.setAttribute("aria-hidden","true"),b=null),e.stopPropagation(),!1},v[u].parentNode.insertBefore(B,v[u].nextSibling)}}document.onclick=l},!1)});